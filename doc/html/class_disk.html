<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Operating System Project 3: Disk Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom_dark_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Operating System Project 3
   &#160;<span id="projectnumber">1.0.0.0</span>
   </div>
   <div id="projectbrief">File System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_disk-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Disk Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_disk.html" title="The Disk class.">Disk</a> class.  
 <a href="class_disk.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="disk_8h_source.html">disk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93439de567b82e8f997f6c4085e05975"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a93439de567b82e8f997f6c4085e05975">Disk</a> (const char *path_m)</td></tr>
<tr class="memdesc:a93439de567b82e8f997f6c4085e05975"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_disk.html" title="The Disk class.">Disk</a>.  <a href="class_disk.html#a93439de567b82e8f997f6c4085e05975">More...</a><br /></td></tr>
<tr class="separator:a93439de567b82e8f997f6c4085e05975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77518c808f3f5d9e902a55942542c337"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a77518c808f3f5d9e902a55942542c337">~Disk</a> ()</td></tr>
<tr class="separator:a77518c808f3f5d9e902a55942542c337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fcac8ed6ace727424c16ea4059ca78a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a9fcac8ed6ace727424c16ea4059ca78a">createDisk</a> (uint32_t <a class="el" href="class_disk.html#acdce27cb66f08435b009dda819324e81">size_m</a>)</td></tr>
<tr class="memdesc:a9fcac8ed6ace727424c16ea4059ca78a"><td class="mdescLeft">&#160;</td><td class="mdescRight">createDisk  <a href="class_disk.html#a9fcac8ed6ace727424c16ea4059ca78a">More...</a><br /></td></tr>
<tr class="separator:a9fcac8ed6ace727424c16ea4059ca78a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c79cff9c3e65b98721dbb08b0165cd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a3c79cff9c3e65b98721dbb08b0165cd5">deleteDisk</a> ()</td></tr>
<tr class="separator:a3c79cff9c3e65b98721dbb08b0165cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123447ae8556e1dbf6f88bddef33408e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a123447ae8556e1dbf6f88bddef33408e">mount</a> ()</td></tr>
<tr class="memdesc:a123447ae8556e1dbf6f88bddef33408e"><td class="mdescLeft">&#160;</td><td class="mdescRight">mount This method mounts the virtual disk into memory. After mounting the disk is operable  <a href="class_disk.html#a123447ae8556e1dbf6f88bddef33408e">More...</a><br /></td></tr>
<tr class="separator:a123447ae8556e1dbf6f88bddef33408e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94517032add3fa38c152e78ab7f1ac5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a94517032add3fa38c152e78ab7f1ac5f">unmount</a> ()</td></tr>
<tr class="memdesc:a94517032add3fa38c152e78ab7f1ac5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">unmount This method unmounts a virtuak disk from memory. After unmounint the disk can no longer be accessed.  <a href="class_disk.html#a94517032add3fa38c152e78ab7f1ac5f">More...</a><br /></td></tr>
<tr class="separator:a94517032add3fa38c152e78ab7f1ac5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147df5db24f6376908eb215be6fd3a85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a147df5db24f6376908eb215be6fd3a85">loadMasterBootRecord</a> ()</td></tr>
<tr class="memdesc:a147df5db24f6376908eb215be6fd3a85"><td class="mdescLeft">&#160;</td><td class="mdescRight">loadMasterBootRecord This method loads a MBR from a virtua disk.  <a href="class_disk.html#a147df5db24f6376908eb215be6fd3a85">More...</a><br /></td></tr>
<tr class="separator:a147df5db24f6376908eb215be6fd3a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51fde52e3037be2ccc3e04b1e4a40c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#ac51fde52e3037be2ccc3e04b1e4a40c3">createMasterBootRecord</a> ()</td></tr>
<tr class="memdesc:ac51fde52e3037be2ccc3e04b1e4a40c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">createMasterBootRecord This method writes the master boot record into the virtual disk.  <a href="class_disk.html#ac51fde52e3037be2ccc3e04b1e4a40c3">More...</a><br /></td></tr>
<tr class="separator:ac51fde52e3037be2ccc3e04b1e4a40c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36a3958aebbe9ce4421deff541559cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#ac36a3958aebbe9ce4421deff541559cf">createPartition</a> (uint32_t <a class="el" href="class_disk.html#acdce27cb66f08435b009dda819324e81">size_m</a>, <a class="el" href="_file_system_type_8h.html#adbcb0b66f5bf7795a7168aa79081b923">FileSystemType</a> fileSystemType, bool isPrimary)</td></tr>
<tr class="memdesc:ac36a3958aebbe9ce4421deff541559cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">createPartition This method creates a new partition  <a href="class_disk.html#ac36a3958aebbe9ce4421deff541559cf">More...</a><br /></td></tr>
<tr class="separator:ac36a3958aebbe9ce4421deff541559cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bdcfbfb4bef50fe89b24625c1c76455"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a9bdcfbfb4bef50fe89b24625c1c76455">removePartition</a> (uint8_t index)</td></tr>
<tr class="memdesc:a9bdcfbfb4bef50fe89b24625c1c76455"><td class="mdescLeft">&#160;</td><td class="mdescRight">removePartition  <a href="class_disk.html#a9bdcfbfb4bef50fe89b24625c1c76455">More...</a><br /></td></tr>
<tr class="separator:a9bdcfbfb4bef50fe89b24625c1c76455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3367628e1363f18fcb255d942f85146b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a3367628e1363f18fcb255d942f85146b">calculateStartAddress</a> (uint8_t partitionIndex)</td></tr>
<tr class="memdesc:a3367628e1363f18fcb255d942f85146b"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculateStartAddress  <a href="class_disk.html#a3367628e1363f18fcb255d942f85146b">More...</a><br /></td></tr>
<tr class="separator:a3367628e1363f18fcb255d942f85146b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7c5958c86f1f0dfa6a73e96c245c7a4b"><td class="memItemLeft" align="right" valign="top">const unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a7c5958c86f1f0dfa6a73e96c245c7a4b">data</a> ()</td></tr>
<tr class="separator:a7c5958c86f1f0dfa6a73e96c245c7a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2ec14100c41bbb511f2074e0d25331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_master_boot_record.html">MasterBootRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a4c2ec14100c41bbb511f2074e0d25331">MBR</a> ()</td></tr>
<tr class="separator:a4c2ec14100c41bbb511f2074e0d25331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0acf88d6baa8ac0faedcecd4e62dd009"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a0acf88d6baa8ac0faedcecd4e62dd009">size</a> () const</td></tr>
<tr class="separator:a0acf88d6baa8ac0faedcecd4e62dd009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3d32e93b32d7b07fb7c8f41f0a4c9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#aee3d32e93b32d7b07fb7c8f41f0a4c9f">isMounted</a> () const</td></tr>
<tr class="separator:aee3d32e93b32d7b07fb7c8f41f0a4c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af94ab1d0438506be3f3525ab9ff9d292"><td class="memItemLeft" align="right" valign="top">private&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#af94ab1d0438506be3f3525ab9ff9d292">static_attributes</a>: const static uint32_t MBR_SIZE = 512</td></tr>
<tr class="separator:af94ab1d0438506be3f3525ab9ff9d292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749fd2e72968ba176b51e2bedc58b7b2"><td class="memItemLeft" align="right" valign="top">private&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a749fd2e72968ba176b51e2bedc58b7b2">attributes</a>: char* path_m</td></tr>
<tr class="separator:a749fd2e72968ba176b51e2bedc58b7b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d0567cd1ee81dbd301943f736a033b"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#ad1d0567cd1ee81dbd301943f736a033b">data_m</a></td></tr>
<tr class="memdesc:ad1d0567cd1ee81dbd301943f736a033b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapped data.  <a href="class_disk.html#ad1d0567cd1ee81dbd301943f736a033b">More...</a><br /></td></tr>
<tr class="separator:ad1d0567cd1ee81dbd301943f736a033b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdce27cb66f08435b009dda819324e81"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#acdce27cb66f08435b009dda819324e81">size_m</a></td></tr>
<tr class="memdesc:acdce27cb66f08435b009dda819324e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the disk.  <a href="class_disk.html#acdce27cb66f08435b009dda819324e81">More...</a><br /></td></tr>
<tr class="separator:acdce27cb66f08435b009dda819324e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b93790a96785abddda1b56c6ec90ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#ac3b93790a96785abddda1b56c6ec90ac">mounted</a> = false</td></tr>
<tr class="memdesc:ac3b93790a96785abddda1b56c6ec90ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true operation can be done on this disk.  <a href="class_disk.html#ac3b93790a96785abddda1b56c6ec90ac">More...</a><br /></td></tr>
<tr class="separator:ac3b93790a96785abddda1b56c6ec90ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae620e21d3b5813e0a77afba920163eb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_master_boot_record.html">MasterBootRecord</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#ae620e21d3b5813e0a77afba920163eb7">MBR_m</a></td></tr>
<tr class="memdesc:ae620e21d3b5813e0a77afba920163eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapps the Master Boot Record from.  <a href="class_disk.html#ae620e21d3b5813e0a77afba920163eb7">More...</a><br /></td></tr>
<tr class="separator:ae620e21d3b5813e0a77afba920163eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e675709e6fbf7f4283c483463ae3d1a"><td class="memItemLeft" align="right" valign="top">struct stat *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#a9e675709e6fbf7f4283c483463ae3d1a">fileStats_m</a></td></tr>
<tr class="memdesc:a9e675709e6fbf7f4283c483463ae3d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about the Virtual <a class="el" href="class_disk.html" title="The Disk class.">Disk</a> File.  <a href="class_disk.html#a9e675709e6fbf7f4283c483463ae3d1a">More...</a><br /></td></tr>
<tr class="separator:a9e675709e6fbf7f4283c483463ae3d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa0be2f557985ab5ad9648fd59d218e"><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_disk.html#aafa0be2f557985ab5ad9648fd59d218e">getter</a>: const char* path()</td></tr>
<tr class="separator:aafa0be2f557985ab5ad9648fd59d218e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_disk.html" title="The Disk class.">Disk</a> class. </p>
<p>This class wraps a virtual disk file (vdf) as a virtual disk. Basic disk operation are provided by this class. </p>

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00030">30</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a93439de567b82e8f997f6c4085e05975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93439de567b82e8f997f6c4085e05975">&#9670;&nbsp;</a></span>Disk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Disk::Disk </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_disk.html" title="The Disk class.">Disk</a>. </p>
<p>Creates a new <a class="el" href="class_disk.html" title="The Disk class.">Disk</a> object. The parameter </p><dl class="section see"><dt>See also</dt><dd>{#path} determines the location of the virtual disk file. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path where the VDF is located. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00027">27</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a77518c808f3f5d9e902a55942542c337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77518c808f3f5d9e902a55942542c337">&#9670;&nbsp;</a></span>~Disk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Disk::~Disk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00033">33</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3367628e1363f18fcb255d942f85146b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3367628e1363f18fcb255d942f85146b">&#9670;&nbsp;</a></span>calculateStartAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Disk::calculateStartAddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>partitionIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>calculateStartAddress </p>
<p>This method calculates the start address of the new partition. The new partition is layed direct behind the last one. If this is the first partition the size of the MBR plus 1 will be returned otherwise the size of the MBR plus end address of previous partition plus 1 will be returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partitionIndex</td><td>Index of the new partition, range 0 to 3 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Startaddress of the partition. </dd></dl>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00247">247</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a9fcac8ed6ace727424c16ea4059ca78a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fcac8ed6ace727424c16ea4059ca78a">&#9670;&nbsp;</a></span>createDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::createDisk </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size_m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>createDisk </p>
<p>This methods creates a new empty virtual disk file. The size of the virtual disk is determined by </p><dl class="section see"><dt>See also</dt><dd>{<a class="el" href="class_disk.html#a0acf88d6baa8ac0faedcecd4e62dd009">size</a>} </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Size of the disk in bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00040">40</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="ac51fde52e3037be2ccc3e04b1e4a40c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac51fde52e3037be2ccc3e04b1e4a40c3">&#9670;&nbsp;</a></span>createMasterBootRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::createMasterBootRecord </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>createMasterBootRecord This method writes the master boot record into the virtual disk. </p>
<p>A Master Boot Record (MBR) contains of different areas, all of the are written during the execution of the method. A Bootloader is simulated with the hex code 0xB0 0x01 0xC0 0xDE, the bootlader is 496 bytes big. Next 4 partitionentries will be created, each entry is 16 byte big. At the end the magic number 0x55 0xAA will complete the MBR. This operation required that the disk is mounted. Executing this operation on an existing MBR will override everything as a result the data will no longer be accessable under normal circumstances. </p>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00206">206</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="ac36a3958aebbe9ce4421deff541559cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac36a3958aebbe9ce4421deff541559cf">&#9670;&nbsp;</a></span>createPartition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::createPartition </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size_m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_file_system_type_8h.html#adbcb0b66f5bf7795a7168aa79081b923">FileSystemType</a>&#160;</td>
          <td class="paramname"><em>fileSystemType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPrimary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>createPartition This method creates a new partition </p>
<p>This method requires a mounted disk, a MBR on the disk and a free partition spot. As first step the operation will accuired the index of a free spot. Next a the MBR wrapper will create a new <a class="el" href="class_partition.html" title="The Partition class.">Partition</a> wrapper and assigns it. THe last step is updating the virtual disk file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Size of the partition in bytes </td></tr>
    <tr><td class="paramname">fileSystemType</td><td>Type of the filesystem </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>FSTypes </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isPrimary</td><td>Indicates if the partition is a primary one, should alway be true </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00265">265</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a7c5958c86f1f0dfa6a73e96c245c7a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5958c86f1f0dfa6a73e96c245c7a4b">&#9670;&nbsp;</a></span>data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t * Disk::data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00007">7</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a3c79cff9c3e65b98721dbb08b0165cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c79cff9c3e65b98721dbb08b0165cd5">&#9670;&nbsp;</a></span>deleteDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::deleteDisk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00079">79</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="aee3d32e93b32d7b07fb7c8f41f0a4c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3d32e93b32d7b07fb7c8f41f0a4c9f">&#9670;&nbsp;</a></span>isMounted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Disk::isMounted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00022">22</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a147df5db24f6376908eb215be6fd3a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147df5db24f6376908eb215be6fd3a85">&#9670;&nbsp;</a></span>loadMasterBootRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::loadMasterBootRecord </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>loadMasterBootRecord This method loads a MBR from a virtua disk. </p>
<p>This operation required a mounted virtual disk and an existing MBR. This operation reads the MBR from a virtual disk and mapps it values into a wrapper class. If a partition is found it will also create the partition. </p>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00159">159</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a4c2ec14100c41bbb511f2074e0d25331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c2ec14100c41bbb511f2074e0d25331">&#9670;&nbsp;</a></span>MBR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_master_boot_record.html">MasterBootRecord</a> * Disk::MBR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00014">14</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a123447ae8556e1dbf6f88bddef33408e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a123447ae8556e1dbf6f88bddef33408e">&#9670;&nbsp;</a></span>mount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::mount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mount This method mounts the virtual disk into memory. After mounting the disk is operable </p>
<p>The mounting process required a non mounted state, if the disk is allready mounted the operation fails. First of all a file descriptor to the virtual disk file (vdf) is opened. Next step is retreiving information about the virtual disk file, This is step is required to ensure that the whole disk is mapped. Finally the virtual disk file is mapped into the memory using mmap. If a MBR exists it will be loaded into the wrapper class. </p>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00085">85</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a9bdcfbfb4bef50fe89b24625c1c76455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bdcfbfb4bef50fe89b24625c1c76455">&#9670;&nbsp;</a></span>removePartition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::removePartition </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>removePartition </p>
<p>Removes the partition from the MBR. No data will be wiped, but the data cannot be accessed anymore on an easy way </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td><a class="el" href="class_partition.html" title="The Partition class.">Partition</a> which should be removed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00321">321</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a0acf88d6baa8ac0faedcecd4e62dd009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0acf88d6baa8ac0faedcecd4e62dd009">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Disk::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00018">18</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<a id="a94517032add3fa38c152e78ab7f1ac5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94517032add3fa38c152e78ab7f1ac5f">&#9670;&nbsp;</a></span>unmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disk::unmount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>unmount This method unmounts a virtuak disk from memory. After unmounint the disk can no longer be accessed. </p>
<p>Unmounting only works on mounted disks, if the disk is not mounted the operation fails. The c function mmap is called to unmap the virtual disk from memory, if the operation fails the application is usntable therefore it should never occurr </p>

<p class="definition">Definition at line <a class="el" href="disk_8cpp_source.html#l00141">141</a> of file <a class="el" href="disk_8cpp_source.html">disk.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a749fd2e72968ba176b51e2bedc58b7b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749fd2e72968ba176b51e2bedc58b7b2">&#9670;&nbsp;</a></span>attributes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">private Disk::attributes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00040">40</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="ad1d0567cd1ee81dbd301943f736a033b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d0567cd1ee81dbd301943f736a033b">&#9670;&nbsp;</a></span>data_m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* Disk::data_m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mapped data. </p>

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00043">43</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="a9e675709e6fbf7f4283c483463ae3d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e675709e6fbf7f4283c483463ae3d1a">&#9670;&nbsp;</a></span>fileStats_m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct stat* Disk::fileStats_m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Information about the Virtual <a class="el" href="class_disk.html" title="The Disk class.">Disk</a> File. </p>

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00055">55</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="aafa0be2f557985ab5ad9648fd59d218e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa0be2f557985ab5ad9648fd59d218e">&#9670;&nbsp;</a></span>getter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">public Disk::getter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00060">60</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="ae620e21d3b5813e0a77afba920163eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae620e21d3b5813e0a77afba920163eb7">&#9670;&nbsp;</a></span>MBR_m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_master_boot_record.html">MasterBootRecord</a>* Disk::MBR_m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mapps the Master Boot Record from. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_disk.html#a7c5958c86f1f0dfa6a73e96c245c7a4b">data</a> into an object </dd></dl>

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00052">52</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="ac3b93790a96785abddda1b56c6ec90ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b93790a96785abddda1b56c6ec90ac">&#9670;&nbsp;</a></span>mounted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Disk::mounted = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true operation can be done on this disk. </p>

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00049">49</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="acdce27cb66f08435b009dda819324e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdce27cb66f08435b009dda819324e81">&#9670;&nbsp;</a></span>size_m</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Disk::size_m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Size of the disk. </p>

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00046">46</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<a id="af94ab1d0438506be3f3525ab9ff9d292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94ab1d0438506be3f3525ab9ff9d292">&#9670;&nbsp;</a></span>static_attributes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">private Disk::static_attributes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="disk_8h_source.html#l00035">35</a> of file <a class="el" href="disk_8h_source.html">disk.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>OS_Project_3/VirtualDIskFile/<a class="el" href="disk_8h_source.html">disk.h</a></li>
<li>OS_Project_3/VirtualDIskFile/<a class="el" href="disk_8cpp_source.html">disk.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
		<script src="custom.js"></script>
	</body>
</html>